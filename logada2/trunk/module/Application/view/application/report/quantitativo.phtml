<?php

$basePath = $this->basePath();

$idx = 100;

$this->headLink()->offsetSetStylesheet(++$idx, $basePath . '/css/paging.css');

$idx = 100;

$this->headScript()->offsetSetFile(++$idx, $basePath . '/js/paging.js', 'text/javascript');

$title = 'Estatíticas Quantitatitvas';

$this->headTitle($title);

$this->headScript()->captureEnd();

#------------------------------------------------------------------------------------------------------------------------------------------------
# Quant. Smiles.
#------------------------------------------------------------------------------------------------------------------------------------------------

$a = $amountSmiles1[0][1];

$b = $amountSmiles2[0][1];

$aux = $a+$b;

#------------------------------------------------------------------------------------------------------------------------------------------------
# Quant. Posts gerais.
#------------------------------------------------------------------------------------------------------------------------------------------------

$a1 = $amountComments1[0][1];

$b1 = $amountComments2[0][1];

$aux2 = $a1+$b1;

#------------------------------------------------------------------------------------------------------------------------------------------------
# Quant. de Pessoas que Enviaram Posts.
#------------------------------------------------------------------------------------------------------------------------------------------------

# Etapa 1 ...

( !empty( $amountCommentsForUser1[0][1] ) ) ? 

$a2 = sizeof($amountCommentsForUser1) : 

$a2 = 0;

# Etapa 2 ...

( !empty ( $amountCommentsForUser2[0][1] ) ) ? 

$b2 = sizeof($amountCommentsForUser2) : 

$b2 = 0;

# Etapa 3.

$aux3 = $a2+$b2;

echo 
	#------------------------------------------------------------------------------------------------------------------------------------------------
	# duas tabelas contidas em <DIV>.
	#------------------------------------------------------------------------------------------------------------------------------------------------
	
	"<div align='justify'>".
	
	#------------------------------------------------------------------------------------------------------------------------------------------------
	# tabela 1.
	#------------------------------------------------------------------------------------------------------------------------------------------------
	
	"<table align='left' >".

	#------------------------------------------------------------------------------------------------------------------------------------------------
	# Notificações catalogadas pelo Usuário.
	#------------------------------------------------------------------------------------------------------------------------------------------------
	
	"<tr>".
	"<th colspan=2><p align=left>Notificações catalogadas pelo Usuário</p></th>".
	"<td>".$amountNotifications[0][1]."</td>".
	"</tr>".

	#------------------------------------------------------------------------------------------------------------------------------------------------
	# Atividades agendadas por Usuário.
	#------------------------------------------------------------------------------------------------------------------------------------------------
	
	"<tr>".
	"<th colspan=2><p align=left>Atividades agendadas por Usuário</p></th>".
	"<td>".$amountActivityByUser[0][1]."</td>".
	"</tr>".

	#------------------------------------------------------------------------------------------------------------------------------------------------
	# Atividades agendadas por Terceiros.
	#------------------------------------------------------------------------------------------------------------------------------------------------
	
	"<tr>".
	"<th colspan=2><p align=left>Atividades agendadas por Terceiros</p></th>".
	"<td>".$amountActivityForOthers[0][1]."</td>".
	"</tr>".

	#------------------------------------------------------------------------------------------------------------------------------------------------
	# Quant. Amizades na ocasião.
	#------------------------------------------------------------------------------------------------------------------------------------------------
	
	"<tr>".
	"<th colspan=2><p align=left>Quant. Amizades na ocasião</p></th>".
	"<td>".$amountFriends[0][1]."</td>".
	"</tr>".

	#------------------------------------------------------------------------------------------------------------------------------------------------
	# Quant. Smiles.
	#------------------------------------------------------------------------------------------------------------------------------------------------

	"<tr>".
	"<th colspan=2><p align=left>Quant. Smiles</p></th>".
	"<td>".$aux."</td>".
	"</tr>".
	
	#------------------------------------------------------------------------------------------------------------------------------------------------
	# Quant. Comentários.
	#------------------------------------------------------------------------------------------------------------------------------------------------

	"<tr>".
	"<th colspan=2><p align=left>Quant. Comentários</p></th>".
	"<td>".$amountComments1[0][1]."</td>".
	"</tr>".

	#------------------------------------------------------------------------------------------------------------------------------------------------
	# Quant. Posts gerais.
	#------------------------------------------------------------------------------------------------------------------------------------------------
	
	"<tr>".
	"<th colspan=2><p align=left>Quant. Posts gerais</p></th>".
	"<td>".$aux2."</td>".
	"</tr>";

#------------------------------------------------------------------------------------------------------------------------------------------------
# Recuperar quantidade de 'Posts' foram enviados para Usuário, a partir de `Post`.
#------------------------------------------------------------------------------------------------------------------------------------------------

if ( $aux3 > 0 ) {

	echo 
	
		"<tr>".
		"<th colspan=2><p align=left>Quant. de Pessoas que Enviaram Posts</p></th>".
		"<td>".$aux3."</td>".
		"</tr>";
	
} else {

	echo 
	
		"<tr>".
		"<th colspan=2><p align=left>Quant. de Pessoas que Enviaram Posts</p></th>".
		"<td>0</td>".
		"</tr>";	
	
}

#------------------------------------------------------------------------------------------------------------------------------------------------
# Recuperar quantidade de Amigos 'Preferidos/Favoritados' pelo Usuário.
#------------------------------------------------------------------------------------------------------------------------------------------------

echo 

	"<tr>".
	"<th colspan=2><p align=left>Quant. de Amigos Favoritos</p></th>".
	"<td>".$amountFavoriteOfUser[0][1]."</td>".
	"</tr>";
	
#------------------------------------------------------------------------------------------------------------------------------------------------
# Recuperar a quantidade de Alunos que haviam sido 'Avaliados', pelo Usuário.
#------------------------------------------------------------------------------------------------------------------------------------------------

echo 

	"<tr>".
	"<th colspan=2><p align=left>Quant. de Alunos avaliados</p></th>".
	"<td>".$amountEvaluationForStudents."</td>".
	"</tr>";

#------------------------------------------------------------------------------------------------------------------------------------------------
# Recuperar a quantidade de Funcionários que haviam sido 'Avaliados', pelo Usuário.
#------------------------------------------------------------------------------------------------------------------------------------------------

echo 

	"<tr>".
	"<th colspan=2><p align=left>Quant. de Funcionários avaliados</p></th>".
	"<td>".$amountEvaluationForStaff."</td>".
	"</tr>";

#------------------------------------------------------------------------------------------------------------------------------------------------
# Recuperar a quantidade de Escolas que haviam sido 'Avaliados', pelo Usuário.
#------------------------------------------------------------------------------------------------------------------------------------------------

echo 

	"<tr>".
	"<th colspan=2><p align=left>Quant. de Escolas avaliados</p></th>".
	"<td>".$amountEvaluationForSchools."</td>".
	"</tr>";

print 

	"</table>".
	
	#------------------------------------------------------------------------------------------------------------------------------------------------
	# tabela 2.
	#------------------------------------------------------------------------------------------------------------------------------------------------

	"<table align='right'>";

if ( !empty ( $amountPostsPerFriends ) ) {

	print 

			"<tr>".
			"<th colspan=2>Amigo(a)</th>".
			"<th>Quant. de Posts Recebidos</th>".
			"</tr>";

	for ( $i=0; $i < (sizeof($amountPostsPerFriends)); $i++ ) {
				
		if ( !empty ( $amountPostsPerFriends[$i][0][2] ) ) {
					
			for ( $j=0; $j <= sizeof ( $namesPerFriends ); $j++ ) {
			
				if ( !empty ( $namesPerFriends[$j][1] ) ) {
					
					if ( $namesPerFriends[$j][1] == $amountPostsPerFriends[$i][0][2] ) {

						print 

							"<tr>".
							"<td colspan=2>".$namesPerFriends[$j][2]."</td>".
							"<td>".$amountPostsPerFriends[$i][0][3]."</td>".
							"</tr>";
						
					}
				
				}

			}
			
		}

	}

}

#------------------------------------------------------------------------------------------------------------------------------------------------
# Recuperar quantidade de 'Handshake' e 'Heart' que Usuário enviou.
#------------------------------------------------------------------------------------------------------------------------------------------------

if (!empty ( $amountHandshakeAndHeart )) {

	print 

		"<tr>".
		"<th colspan=2>Comportamento Enviado</th>".
		"<th>Quantidade</th>".
		"</tr>";
	
}

for ( $i=0; $i < sizeof ( $amountHandshakeAndHeart ) ; $i++ ) {

	$amountHandshakeAndHeart[$i][1] == 0 ? 

	print 

		"<tr>".
		"<td colspan=2>Heart</td>".
		"<td>".$amountHandshakeAndHeart[$i][2]."</td>".
		"</tr>" : 

	print 

		"<tr>".
		"<td colspan=2>Handshake</td>".
		"<td>".$amountHandshakeAndHeart[$i][2]."</td>".
		"</tr>";

}

#------------------------------------------------------------------------------------------------------------------------------------------------
# Recuperar quantidade de 'Handshake' e 'Heart' que Usuário enviou, por Amigo(s).
#------------------------------------------------------------------------------------------------------------------------------------------------

if ( !empty ( $amountHandshakeAndHeartPerUser ) ) {

	print 

		"<tr>".
		"<th>Amigo(a)</th>".
		"<th>Comportamento Recebido</th>".
		"<th>Quantidade</th>".
		"</tr>";

	for ( $i=0; $i < ( sizeof ( $amountHandshakeAndHeartPerUser ) ); $i++ ) {

		if ( !empty ( $amountHandshakeAndHeartPerUser[$i] ) ) {

			for ( $x = 0 ; $x < sizeof ( $amountHandshakeAndHeartPerUser[$i] ) ; $x++ ) {

				for ( $j=0; $j <= ( sizeof ( $namesPerFriends ) ); $j++ ) {
					
					if ( !empty ( $namesPerFriends[$j][1] ) &&
					$namesPerFriends[$j][1] == $amountHandshakeAndHeartPerUser[$i][$x][2] ) {

						#------------------------------------------------------------------------------------------------------------------------------------------------
						# Qual é o nome do Amigo ( a ) ?
						#------------------------------------------------------------------------------------------------------------------------------------------------

						$namesPerFriendsAux = $namesPerFriends[$j][2];

					}

				}

				switch ( $amountHandshakeAndHeartPerUser[$i][$x][3] ) {
				
					#------------------------------------------------------------------------------------------------------------------------------------------------
					# Envio de Corações - Heart.
					#------------------------------------------------------------------------------------------------------------------------------------------------

					case 0 :

						$otherPerFriendsAux = 
						"<td> Coração </td>".
						"<td>".$amountHandshakeAndHeartPerUser[$i][$x][4];

					break;
					
					#------------------------------------------------------------------------------------------------------------------------------------------------
					# Envio de Aperto de Mão - Handshake.
					#------------------------------------------------------------------------------------------------------------------------------------------------
					
					case 1 :

						$otherPerFriendsAux = 
						"<td> Aperto de Mão </td>".
						"<td>".$amountHandshakeAndHeartPerUser[$i][$x][4];

					break;
					
					/*case 2 : 
					
						$otherPerFriendsAux = 
						"<td> Bomba </td>".
						"<td>".$amountHandshakeAndHeartPerUser[$i][$x][4];
						
					break;*/

				}
				
				print 
				
					"<tr>".
					"<td>".
					$namesPerFriendsAux.
					"</td>".
					$otherPerFriendsAux.
					"</tr>";

			}
			
		}
		
	}
}

#------------------------------------------------------------------------------------------------------------------------------------------------
# fechando tabela - Estatísticas Quantitativas.
#------------------------------------------------------------------------------------------------------------------------------------------------

print 

	"</table >".
	"</div>".
	"<br>".
	"<br>";

?>